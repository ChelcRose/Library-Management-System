<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      th:replace="~{layout :: layout(~{::section})}">
<section>

    <h2>Borrow / Return</h2>

    <h3>Borrow</h3>
    <form method="post" action="/loans/borrow">
        <input name="bookId" placeholder="Book ID" required>
        <input name="memberId" placeholder="Member ID" required>
        <input name="days" type="number" min="1" value="7">
        <button type="submit">Borrow</button>
    </form>

    <h3>Return</h3>
    <form method="post" action="/loans/return">
        <input name="loanId" placeholder="Loan ID" required>
        <button type="submit">Return</button>
    </form>

    <h3>Loan Records</h3>
    <table border="1">
        <tr>
            <th>Loan</th><th>Book</th><th>Member</th>
            <th>Borrow</th><th>Due</th><th>Returned</th>
        </tr>

        <tr th:each="l : ${loans}">
            <td th:text="${l.loanId}"></td>
            <td th:text="${l.bookId}"></td>
            <td th:text="${l.memberId}"></td>
            <td th:text="${l.borrowDate}"></td>
            <td th:text="${l.dueDate}"></td>
            <td th:text="${l.returnDate == null ? '-' : l.returnDate}"></td>
        </tr>
    </table>

</section>
</html>
